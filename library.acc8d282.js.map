{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,SAKuBC,SAASC,cAAc,2BACvBD,SAASC,cAAc,yBAJ9C,MAMMC,EAAeC,KAAKC,MAAMC,aAAaC,QAAQ,iBAAmB,IA8BxE,SAA2BC,GAMzB,MAAMC,EAAYD,EACfE,KACCC,GAAS,mJAILA,EAAMC,qBACED,EAAME,uFAERF,EAAME,sCACN,IAAIC,KAAKH,EAAMI,cAAcC,qCAC5BL,EAAMM,WAAa,IAAIP,KAAIQ,GAAMC,EAAOD,KAAKE,KAAK,4DAM9DA,KAAK,IACenB,SAASC,cAAc,2BAC/BmB,UAAYZ,EAE3Ba,EAAuBd,GACvBe,G,CAzDFC,CAAkBrB,GAClBsB,QAAQC,IAAIvB,GAEZ,MAAMwB,EAAoBvB,KAAKC,MAAMC,aAAaC,QAAQ,iBAAmB,IAyD7E,SAA2BC,GAMzB,MAAMC,EAAYD,EACfE,KACCC,GAAS,mJAILA,EAAMC,qBACED,EAAME,uFAERF,EAAME,sCACN,IAAIC,KAAKH,EAAMI,cAAcC,qCAC5BL,EAAMM,WAAa,IAAIP,KAAIQ,GAAMC,EAAOD,KAAKE,KAAK,4DAM9DA,KAAK,IACenB,SAASC,cAAc,yBAC/BmB,UAAYZ,EAE3Ba,EAAuBd,GACvBe,G,CApFFK,CAAkBD,GAClBF,QAAQC,IAAIC,GAEZ,MAAMR,EAAS,CACb,GAAI,SACJ,GAAI,YACJ,GAAI,YACJ,GAAI,SACJ,GAAI,QACJ,GAAI,cACJ,GAAI,QACJ,MAAO,SACP,GAAI,UACJ,GAAI,UACJ,GAAI,SACJ,MAAO,QACP,KAAM,UACN,MAAO,UACP,IAAK,kBACL,MAAO,WACP,GAAI,WACJ,MAAO,MACP,GAAI,WA6HgC,SAA7BG,EAAuBd,GACLP,SAAS4B,iBAAiB,cAElCC,SAAQ,CAACC,EAAiBC,KACzCD,EAAgBE,iBAAiB,SAASC,UACxC,MAAMC,QA/DZD,eAAiCE,GAC/B,IAIE,aAHuBrC,EAAAsC,QAAMC,IAC3B,sCAAsCF,+CAExBG,I,CAChB,MAAOC,GAEP,MADAf,QAAQe,MAAMA,GACR,IAAIC,MAAM,+B,EAuDaC,CAAkBlC,EAAOwB,GAAOd,IAnDjE,IAAmBP,IAoDHwB,EAnDOlC,SAASC,cAAc,wBAE/BmB,UAAY,qGAGnBV,EAAMC,qBACED,EAAME,yEAERF,EAAME,iDACOF,EAAMgC,kBAAkBhC,EAAMiC,0CAChCjC,EAAMkC,8CACFlC,EAAME,yCAEzBiC,MAAMC,QAAQpC,EAAMqC,QAChBrC,EAAMqC,OAAOtC,KAAIuC,GAASA,EAAMC,OAAM9B,KAAK,MAC3C,4EAGcT,EAAMwC,8QASlBlD,SAASC,cAAc,UAC/BkD,MAAMC,QAAU,OAuBK,GACvB,G,CAK2C,SAAxC9B,IACctB,SAASC,cAAc,mBAE/B+B,iBAAiB,SAAS,KACvBhC,SAASC,cAAc,UAC/BkD,MAAMC,QAAU,MAAM,G","sources":["src/js/library.js"],"sourcesContent":["import axios from 'axios';\n\nconst BASE_URL = 'https://api.themoviedb.org/3/';\nconst KEY = '9658d89d84efdefd667887b926d66a88';\n\nconst watchContainer = document.querySelector('.lib__watched-container');\nconst queueContainer = document.querySelector('.lib__queue-container');\n\nconst storedMovies = JSON.parse(localStorage.getItem('watchMovies')) || [];\nrenderWatchMovies(storedMovies);\nconsole.log(storedMovies);\n\nconst storedQueueMovies = JSON.parse(localStorage.getItem('queueMovies')) || [];\nrenderQueueMovies(storedQueueMovies);\nconsole.log(storedQueueMovies);\n\nconst genres = {\n  28: 'Action',\n  12: 'Adventure',\n  16: 'Animation',\n  35: 'Comedy',\n  80: 'Crime',\n  99: 'Documentary',\n  18: 'Drama',\n  10751: 'Family',\n  14: 'Fantasy',\n  36: 'History',\n  27: 'Horror',\n  10402: 'Music',\n  9648: 'Mystery',\n  10749: 'Romance',\n  878: 'Science Fiction',\n  10770: 'TV Movie',\n  53: 'Thriller',\n  10752: 'War',\n  37: 'Western',\n};\n\nfunction renderWatchMovies(movies) {\n  // if (!movies || !Array.isArray(movies) || movies.length === 0) {\n  //   watchContainer.innerHTML = '<p>No movies to display</p>';\n  //   return;\n  // }\n\n  const movieHTML = movies\n    .map(\n      movie => `\n    <div class=\"movie-start_container\">\n      <div class=\"movie-start\">\n        <img class='img-start'  src=\"https://image.tmdb.org/t/p/w500${\n          movie.poster_path\n        }\" alt=\"${movie.original_title} Poster\" />\n        <div class=\"movie-details_start\">\n          <h2>${movie.original_title}</h2>\n          <p> ${new Date(movie.release_date).getFullYear()}</p>\n          <p> ${(movie.genre_ids || []).map(id => genres[id]).join(', ')}</p>\n        </div>\n      </div>\n    </div>\n  `\n    )\n    .join('');\n  const watchContainer = document.querySelector('.lib__watched-container');\n  watchContainer.innerHTML = movieHTML;\n\n  addClickEventListeners(movies);\n  addOverlayClickListener();\n}\n\nfunction renderQueueMovies(movies) {\n  // if (!movies || !Array.isArray(movies) || movies.length === 0) {\n  //   watchContainer.innerHTML = '<p>No movies to display</p>';\n  //   return;\n  // }\n\n  const movieHTML = movies\n    .map(\n      movie => `\n    <div class=\"movie-start_container\">\n      <div class=\"movie-start\">\n        <img class='img-start'  src=\"https://image.tmdb.org/t/p/w500${\n          movie.poster_path\n        }\" alt=\"${movie.original_title} Poster\" />\n        <div class=\"movie-details_start\">\n          <h2>${movie.original_title}</h2>\n          <p> ${new Date(movie.release_date).getFullYear()}</p>\n          <p> ${(movie.genre_ids || []).map(id => genres[id]).join(', ')}</p>\n        </div>\n      </div>\n    </div>\n  `\n    )\n    .join('');\n  const queueContainer = document.querySelector('.lib__queue-container');\n  queueContainer.innerHTML = movieHTML;\n\n  addClickEventListeners(movies);\n  addOverlayClickListener();\n}\n\n// ==Modal Functions\n\nasync function fetchMovieDetails(movieId) {\n  try {\n    const response = await axios.get(\n      `https://api.themoviedb.org/3/movie/${movieId}?api_key=${KEY}`\n    );\n    return response.data;\n  } catch (error) {\n    console.error(error);\n    throw new Error('Error fetching movie details');\n  }\n}\n\nfunction showModal(movie) {\n  const modalDetails = document.querySelector('.movie-details_modal');\n\n  modalDetails.innerHTML = `\n    <div class=\"modal__list\">\n      <img class=\"img-modal\" src=\"https://image.tmdb.org/t/p/w500${\n        movie.poster_path\n      }\" alt=\"${movie.original_title} Poster\">\n      <div class=\"modal__text\">\n        <h2>${movie.original_title}</h2>\n        <p>Vote / Votes: ${movie.vote_average} / ${movie.vote_count}</p>\n        <p>Popularity: ${movie.popularity}</p>\n        <p>Original Title: ${movie.original_title}</p>\n        <p>Genre: ${\n          Array.isArray(movie.genres)\n            ? movie.genres.map(genre => genre.name).join(', ')\n            : ''\n        }</p>\n        <p class=\"abaut\"> ABOUT </p> \n        <p>  Description: ${movie.overview}</p> <!-- Доданий опис -->\n        <div class=\"modal__buttons\"> \n          <button class=\"modal__button-watched\">ADD TO WATCHED</button>\n          <button class=\"modal__button-queue\">ADD TO QUEUE</button>\n        </div>\n      </div>\n    </div>\n  `;\n\n  const modal = document.querySelector('.modal');\n  modal.style.display = 'block';\n}\n\n// async function renderStartMovies() {\n//   try {\n//     // const movies = await fetchMovies();\n//     // renderMovies(movies);\n\n//     addClickEventListeners(movies);\n//     addOverlayClickListener();\n//   } catch (error) {\n//     console.error(error);\n//     throw new Error('Error rendering start movies');\n//   }\n// }\n\n// Функція, що додає події на зображення фільмів\nfunction addClickEventListeners(movies) {\n  const imgStartElements = document.querySelectorAll('.img-start');\n\n  imgStartElements.forEach((imgStartElement, index) => {\n    imgStartElement.addEventListener('click', async () => {\n      const movieDetails = await fetchMovieDetails(movies[index].id);\n      showModal(movieDetails);\n    });\n  });\n}\n\n// Функція, що додає подію на клік по оверлею модального вікна\nfunction addOverlayClickListener() {\n  const modalOverlay = document.querySelector('.modal__overlay');\n\n  modalOverlay.addEventListener('click', () => {\n    const modal = document.querySelector('.modal');\n    modal.style.display = 'none';\n  });\n}\n\n// renderStartMovies();\n\n// ==\n\n//   const imgStartElements = document.querySelectorAll('.img-start');\n//   imgStartElements.forEach((imgStartElement, index) => {\n//     imgStartElement.addEventListener('click', () => {\n//       showModal(movies[index]);\n//     });\n//   });\n\n//   const modalOverlay = document.querySelector('.modal__overlay');\n//   modalOverlay.addEventListener('click', () => {\n//     const modal = document.querySelector('.modal');\n//     modal.style.display = 'none';\n//   });\n\n// ==\n\n// function showModal(movie) {\n//   //   const modalDetails = document.querySelector('.movie-details_modal');\n//   const watchContainer = document.querySelector('.lib__watched-container');\n\n//   watchContainer.innerHTML = `\n//     <div class=\"modal__list\">\n//       <img class=\"img-modal\" src=\"https://image.tmdb.org/t/p/w500${\n//         movie.poster_path\n//       }\" alt=\"${movie.original_title} Poster\">\n//       <div class=\"modal__text\">\n//         <h2>${movie.original_title}</h2>\n//         <p>Vote / Votes: ${movie.vote_average} / ${movie.vote_count}</p>\n//         <p>Popularity: ${movie.popularity}</p>\n//         <p>Original Title: ${movie.original_title}</p>\n//         <p>Genre: ${\n//           Array.isArray(movie.genres)\n//             ? movie.genres.map(genre => genre.name).join(', ')\n//             : ''\n//         }</p>\n//         <p class=\"abaut\"> ABOUT </p>\n//         <p>  Description: ${movie.overview}</p> <!-- Доданий опис -->\n//         <div class=\"modal__buttons\">\n//           <button class=\"modal__button-watched\">ADD TO WATCHED</button>\n//           <button class=\"modal__button-queue\">ADD TO QUEUE</button>\n//         </div>\n//       </div>\n//     </div>\n//   `;\n\n//   const modal = document.querySelector('.modal');\n//   modal.style.display = 'block';\n// }\n\n// ===================\n\n// async function initialize() {\n//   try {\n//     Notiflix.Loading.dots('Loading...');\n//     const movies = await fetchMovies();\n//     renderMovies(movies);\n//     Notiflix.Loading.remove();\n//   } catch (error) {\n//     Notiflix.Report.failure('Oops!', error.message, 'OK');\n//   }\n// }\n"],"names":["$2shzp","parcelRequire","document","querySelector","$1cafa503bc57b7a0$var$storedMovies","JSON","parse","localStorage","getItem","movies","movieHTML","map","movie","poster_path","original_title","Date","release_date","getFullYear","genre_ids","id","$1cafa503bc57b7a0$var$genres","join","innerHTML","$1cafa503bc57b7a0$var$addClickEventListeners","$1cafa503bc57b7a0$var$addOverlayClickListener","$1cafa503bc57b7a0$var$renderWatchMovies","console","log","$1cafa503bc57b7a0$var$storedQueueMovies","$1cafa503bc57b7a0$var$renderQueueMovies","querySelectorAll","forEach","imgStartElement","index","addEventListener","async","movieDetails","movieId","default","get","data","error","Error","$1cafa503bc57b7a0$var$fetchMovieDetails","vote_average","vote_count","popularity","Array","isArray","genres","genre","name","overview","style","display"],"version":3,"file":"library.acc8d282.js.map"}