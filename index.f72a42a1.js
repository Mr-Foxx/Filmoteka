function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},o={},n={},r=t.parcelRequired7c6;null==r&&((r=function(e){if(e in o)return o[e].exports;if(e in n){var t=n[e];delete n[e];var r={id:e,exports:{}};return o[e]=r,t.call(r.exports,r,r.exports),r.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){n[e]=t},t.parcelRequired7c6=r);var i=r("2shzp"),a=r("7Y9D8");const s=document.querySelector(".gallery-start"),c=document.querySelector(".search-form"),d=document.querySelector('input[name="searchQuery"]'),l=document.querySelector(".form-text");c.addEventListener("submit",(async function(t){t.preventDefault();const o=d.value.toLowerCase().trim();try{const t=await async function(e){try{return(await i.default.get("https://api.themoviedb.org/3/search/movie",{params:{api_key:"9658d89d84efdefd667887b926d66a88",query:e,page:1}})).data}catch(e){throw console.error("There was an error!",e),e}}(o);0===t.results.length?(l.innerHTML="Search result not successful.<br/> Enter the correct movie name.",e(a).Notify.info("Sorry, but nothing was found for your request"),setTimeout((function(){l.innerHTML=""}),3e3)):(!async function(e){const t=e.results.filter((e=>e.poster_path)).map((e=>`\n      <div class="movie-start_container">\n        <div class="movie-start">\n          ${e.poster_path?`<img class="img-start" data-id="${e.id}" src="https://image.tmdb.org/t/p/w500${e.poster_path}" alt="${e.original_title||"Movie Poster"} Poster" />`:""}\n          <div class="movie-details_start">\n            <h2>${e.original_title}</h2>\n            <p> ${new Date(e.release_date).getFullYear()}</p>\n            <p> ${e.genre_ids.map((e=>u[e])).join(", ")}</p>\n          </div>\n        </div>\n      </div>\n    `)).join("");s.innerHTML=t}(t),d.value="",s.addEventListener("click",(async t=>{const o=t.target.closest(".img-start");if(o){const t=o.dataset.id,n=await async function(t){try{return(await i.default.get(`https://api.themoviedb.org/3/movie/${t}?api_key=9658d89d84efdefd667887b926d66a88`)).data}catch(t){e(a).Report("Error","An error occurred while fetching movie details")}}(t);!function(t){document.querySelector(".movie-details_modal").innerHTML=`\n    <div class="modal__list">\n      <img class="img-modal" src="https://image.tmdb.org/t/p/w500${t.poster_path}" alt="${t.original_title} Poster">\n      <div class="modal__text">\n        <h2>${t.original_title}</h2>\n        <p>Vote / Votes: ${t.vote_average} / ${t.vote_count}</p>\n        <p>Popularity: ${t.popularity}</p>\n        <p>Original Title: ${t.original_title}</p>\n        <p>Genre: ${Array.isArray(t.genres)?t.genres.map((e=>e.name)).join(", "):""}</p>\n        <p class="abaut"> ABOUT </p> \n        <p>  Description: ${t.overview}</p> \x3c!-- Доданий опис --\x3e\n        <div class="modal__buttons"> \n          <button class="modal__button-watched">ADD TO WATCHED</button>\n          <button class="modal__button-queue">ADD TO QUEUE</button>\n        </div>\n      </div>\n    </div>\n  `;document.querySelector(".modal").style.display="block",function(t){const o=document.querySelector(".modal__button-watched"),n=document.querySelector(".modal__button-queue"),r=JSON.parse(localStorage.getItem("watchMovies"))||[];r.some((e=>e.id===t.id))?o.textContent="REMOVE FROM WATCHED":o.textContent="ADD TO WATCHED";o.addEventListener("click",(()=>{let n=JSON.parse(localStorage.getItem("watchMovies"))||[];n.some((e=>e.id===t.id))?(n=n.filter((e=>e.id!==t.id)),e(a).Notify.info("movie removed from watched"),o.textContent="ADD TO WATCHED"):(n.push(t),e(a).Notify.success("Movie added to watch"),o.textContent="REMOVE FROM WATCHED"),localStorage.setItem("watchMovies",JSON.stringify(n))}));const i=JSON.parse(localStorage.getItem("queueMovies"))||[];i.some((e=>e.id===t.id))?n.textContent="REMOVE FROM WATCHED":n.textContent="ADD TO WATCHED";n.addEventListener("click",(()=>{let o=JSON.parse(localStorage.getItem("queueMovies"))||[];o.some((e=>e.id===t.id))?(o=o.filter((e=>e.id!==t.id)),e(a).Notify.info("movie removed from watched"),n.textContent="ADD TO QUEUQ"):(o.push(t),e(a).Notify.success("Movie added to watch"),n.textContent="REMOVE FROM QUEUQ"),localStorage.setItem("queueMovies",JSON.stringify(o))}))}(t)}(n)}})))}catch(t){throw e(a).Notify.failure(t),t}}));const u={28:"Action",12:"Adventure",16:"Animation",35:"Comedy",80:"Crime",99:"Documentary",18:"Drama",10751:"Family",14:"Fantasy",36:"History",27:"Horror",10402:"Music",9648:"Mystery",10749:"Romance",878:"Science Fiction",10770:"TV Movie",53:"Thriller",10752:"War",37:"Western"};
//# sourceMappingURL=index.f72a42a1.js.map
