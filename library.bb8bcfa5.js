function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},o={},n={},i=t.parcelRequired7c6;null==i&&((i=function(e){if(e in o)return o[e].exports;if(e in n){var t=n[e];delete n[e];var i={id:e,exports:{}};return o[e]=i,t.call(i.exports,i,i.exports),i.exports}var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,t){n[e]=t},t.parcelRequired7c6=i);var r=i("2shzp"),a=i("7Y9D8"),l=i("ezyJp");const s=document.querySelector(".button__libraty-watched"),c=document.querySelector(".button__library-queue"),d=document.querySelector(".lib__watched-container"),u=document.querySelector(".lib__queue-container");document.querySelector(".empty-page"),document.querySelector(".empty-page-queue");function m(){u.innerHTML="",s.classList.add("library_btn-click-color"),c.classList.remove("library_btn-click-color");const e=JSON.parse(localStorage.getItem("watchMovies"))||[];console.log(e.length),0!==e.length?p(e):d.innerHTML="<p>There are no films in this gallery</p>"}function g(){d.innerHTML="",c.classList.add("library_btn-click-color"),s.classList.remove("library_btn-click-color");const e=JSON.parse(localStorage.getItem("queueMovies"))||[];console.log(e.length),0!==e.length?(v(e),console.log(e)):u.innerHTML="<p>There are no films in this gallery</p>"}function p(e){const t=e.map((e=>`\n    <div class="movie-start_container">\n      <div class="movie-start">\n        <img class='img-start'  src="https://image.tmdb.org/t/p/w500${e.poster_path}" alt="${e.original_title} Poster" />\n        <div class="movie-details_start">\n          <h2>${e.original_title}</h2>\n          <p> ${new Date(e.release_date).getFullYear()}</p>\n          <p> ${(e.genre_ids||[]).map((e=>l.genres[e])).join(", ")}</p>\n        </div>\n      </div>\n    </div>\n  `)).join("");document.querySelector(".lib__watched-container").innerHTML=t,f(e),y()}function v(e){const t=e.map((e=>`\n    <div class="movie-start_container">\n      <div class="movie-start">\n        <img class='img-start'  src="https://image.tmdb.org/t/p/w500${e.poster_path}" alt="${e.original_title} Poster" />\n        <div class="movie-details_start">\n          <h2>${e.original_title}</h2>\n          <p> ${new Date(e.release_date).getFullYear()}</p>\n          <p> ${(e.genre_ids||[]).map((e=>l.genres[e])).join(", ")}</p>\n        </div>\n      </div>\n    </div>\n  `)).join("");document.querySelector(".lib__queue-container").innerHTML=t,f(e),y()}function _(t){document.querySelector(".movie-details_modal").innerHTML=`\n    <div class="modal__list">\n      <img class="img-modal" src="https://image.tmdb.org/t/p/w500${t.poster_path}" alt="${t.original_title} Poster">\n      <div class="modal__text">\n        <h2>${t.original_title}</h2>\n        <p>Vote / Votes: ${t.vote_average} / ${t.vote_count}</p>\n        <p>Popularity: ${t.popularity}</p>\n        <p>Original Title: ${t.original_title}</p>\n        <p>Genre: ${Array.isArray(t.genres)?t.genres.map((e=>e.name)).join(", "):""}</p>\n        <p class="abaut"> ABOUT </p>\n        <p>  Description: ${t.overview}</p> \x3c!-- Доданий опис --\x3e\n        <div class="modal__buttons">\n          <button class="modal__button-watched">ADD TO WATCHED</button>\n          <button class="modal__button-queue">ADD TO QUEUE</button>\n        </div>\n      </div>\n    </div>\n  `;document.querySelector(".modal").style.display="block",function(t){const o=document.querySelector(".modal__button-watched"),n=document.querySelector(".modal__button-queue"),i=JSON.parse(localStorage.getItem("watchMovies"))||[];i.some((e=>e.id===t.id))?o.textContent="REMOVE FROM WATCHED":o.textContent="ADD TO WATCHED";o.addEventListener("click",(()=>{let n=JSON.parse(localStorage.getItem("watchMovies"))||[];n.some((e=>e.id===t.id))?(n=n.filter((e=>e.id!==t.id)),e(a).Notify.info("movie removed from watched"),o.textContent="ADD TO WATCHED",function(e){const t=JSON.parse(localStorage.getItem("watchMovies"))||[];if(t.some((t=>t.id===e.id))){const o=t.filter((t=>t.id!==e.id));localStorage.setItem("watchMovies",JSON.stringify(o)),p(o)}}(t)):(n.push(t),e(a).Notify.success("Movie added to watch"),o.textContent="REMOVE FROM WATCHED",function(e){const t=JSON.parse(localStorage.getItem("watchMovies"))||[];t.push(e),localStorage.setItem("watchMovies",JSON.stringify(t)),p(t)}(t)),localStorage.setItem("watchMovies",JSON.stringify(n))}));const r=JSON.parse(localStorage.getItem("queueMovies"))||[];r.some((e=>e.id===t.id))?n.textContent="REMOVE FROM QUEUE":n.textContent="ADD TO QUEUE";n.addEventListener("click",(()=>{let o=JSON.parse(localStorage.getItem("queueMovies"))||[];o.some((e=>e.id===t.id))?(o=o.filter((e=>e.id!==t.id)),e(a).Notify.info("movie removed from watched"),n.textContent="ADD TO QUEUQ",function(e){const t=JSON.parse(localStorage.getItem("queueMovies"))||[];if(t.some((t=>t.id===e.id))){const o=t.filter((t=>t.id!==e.id));localStorage.setItem("queueMovies",JSON.stringify(o)),v(o)}}(t)):(o.push(t),e(a).Notify.success("Movie added to watch"),n.textContent="REMOVE FROM QUEUQ",function(e){const t=JSON.parse(localStorage.getItem("queueMovies"))||[];t.push(e),localStorage.setItem("queueMovies",JSON.stringify(t)),v(t)}(t)),localStorage.setItem("queueMovies",JSON.stringify(o))}))}(t)}function f(e){document.querySelectorAll(".img-start").forEach(((t,o)=>{t.addEventListener("click",(async()=>{try{_(await async function(e){try{return(await r.default.get(`https://api.themoviedb.org/3/movie/${e}?api_key=9658d89d84efdefd667887b926d66a88`)).data}catch(e){throw console.error(e),new Error("Error fetching movie details")}}(e[o].id))}catch(e){throw new Error(e.message)}}))}))}function y(){document.querySelector(".modal__overlay").addEventListener("click",(()=>{document.querySelector(".modal").style.display="none"}))}u.classList.add("visibility-none"),s.classList.add("library_btn-click-color"),s.addEventListener("click",m),c.addEventListener("click",g),g(),m();
//# sourceMappingURL=library.bb8bcfa5.js.map
